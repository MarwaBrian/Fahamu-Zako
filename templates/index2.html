<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explore Human Rights Instruments</title>
    <!-- Bootstrap CSS -->
     <!-- Include Bootstrap Icons or Font Awesome -->
     <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
     <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap">
     <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        html, body {
            height: 100%;
            font-family: 'Roboto', sans-serif;
            scroll-behavior: smooth;
            background-color: #f5f5f5; /* Light background color for contrast */
        }
        .header-bg {
            background: linear-gradient(to right, #4CAF50, #81C784);
            padding: 20px; /* Increased padding */
        }
        .section {
            padding: 60px 20px;
            color: #333;
        }
        .card {
            border-radius: 15px;
            transition: transform 0.3s;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); /* Shadow for depth */
        }
        .card:hover {
            transform: translateY(-5px); /* Lift effect on hover */
        }
        .btn-brown {
            background-color: #8B4513; /* Brown color */
            color: white;
        }
        .btn-brown:hover {
            background-color: #7B3F00; /* Darker brown on hover */
        }
        .modal-header {
            background-color: #4CAF50; /* Header background for modals */
            color: white;
        }
        .modal-footer {
            display: flex;
            justify-content: space-between; /* Space buttons evenly */
        }
        .contact-form {
            background: white; /* White background for contrast */
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1); /* Subtle shadow */
        }
        #summaryResult {
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: #f9f9f9;
        }
    </style>
</head>
<body>

<header class="header-bg text-white text-center p-4">
    <h1>üéâ FAHAMU HAKI ZAKO üéâ</h1>
    <nav>
        <a href="#" class="text-white mx-3">Home</a>
        <a href="#about" class="text-white mx-3">About</a>
        <a href="#resources" class="text-white mx-3">Resources</a>
        <a href="#contact" class="text-white mx-3">Contact</a>
    </nav>
</header>
<br>

<div class="content container my-4">
    <div class="input-group mb-4">
        <input type="text" class="form-control" placeholder="Search for documents...">
        <div class="input-group-append">
            <button class="btn btn-outline-success" type="button">üîç Search</button>
        </div>
    </div>
    <button class="btn btn-info" data-toggle="modal" data-target="#chatbotModal">Chat with AI</button>
    <br><br>

    <div class="row" id="documentCards">
        <div class="col-md-4">
            <div class="card mb-4">
                <div class="card-body text-center">
                    <h5 class="card-title">üåç African Charter on Human and Peoples' Rights</h5>
                    <p class="card-text">A charter that outlines the rights and freedoms of African peoples.</p>
                    <a href="{{ url_for('static', filename='ACPH.pdf') }}" class="btn btn-success" target="_blank">Select</a>
                    <button class="btn btn-brown" data-toggle="modal" data-target="#findTutorModal">Find Tutor</button>
                    
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card mb-4">
                <div class="card-body text-center">
                    <h5 class="card-title">üèõÔ∏è Kampala Convention</h5>
                    <p class="card-text">A convention focused on the protection and assistance of internally displaced persons in Africa.</p>
                    <a href="{{ url_for('static', filename='Kampala_Convention.pdf') }}" class="btn btn-success" target="_blank">Select</a>
                    <button class="btn btn-brown" data-toggle="modal" data-target="#findTutorModal">Find Tutor</button>
                    
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card mb-4">
                <div class="card-body text-center">
                    <h5 class="card-title">üè¢ AU Institutions</h5>
                    <p class="card-text">Information about the various institutions of the African Union.</p>
                    <a href="https://au.int/en/specialised-agencies-institutions" class="btn btn-success" target="_blank">Select</a>
                    <button class="btn btn-brown" data-toggle="modal" data-target="#findTutorModal">Find Tutor</button>
                    
                </div>
            </div>
        </div>
    </div>
    
    <!-- Chatbot Modal -->
<div class="modal fade" id="chatbotModal" tabindex="-1" role="dialog" aria-labelledby="chatbotModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="chatbotModalLabel">Chat with AI Assistant</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <!-- Chatbot interface goes here -->
                <div id="chatbotInterface">
                    <!-- This is where you can implement the chatbot interface -->
                    <p>How can I assist you today?</p>
                    <!-- Example of a simple input for chatbot conversation -->
                    <input type="text" id="chatInput" placeholder="Type your message" class="form-control">
                    <button class="btn btn-primary mt-2" id="sendChat">Send</button>
                    <div id="chatResponse" class="mt-3">
                        <!-- Responses from the chatbot will appear here -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

   
<!-- Find Tutor Modal -->
<div class="modal fade" id="findTutorModal" tabindex="-1" role="dialog" aria-labelledby="findTutorModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="findTutorModalLabel">Choose Your Tutor</h5>
                <button  type="button" class="close" data-dismiss="modal" aria-label="Close">
                    
                
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body text-center">
                <div class="row">
                    <div class="modal-body text-center">
                        <div class="row">
                            <div class="col-md-4">
                                <button id="summaryButton" class="btn btn-link" onclick="selectTutor('text')">
                                    <i class="fas fa-book-open fa-3x"></i>
                                    <p>Summary Tutor</p>
                                </button>
                            </div>
                            <div class="col-md-4">
                                <button class="btn btn-link" onclick="selectTutor('video')">
                                    <i class="fas fa-chalkboard-teacher fa-3x"></i>
                                    <p>Visual Teacher</p>
                                </button>
                            </div>
                            <div class="col-md-4">
                                <button class="btn btn-link" onclick="selectTutor('audio')">
                                    <i class="fas fa-podcast fa-3x"></i>
                                    <p>Podcast Tutor</p>
                                </button>
                            </div>
                            
                        </div>
                    </div>
                    
                    
                    
                </div>
                <div id="summaryResult" style="margin-top: 20px;"></div> <!-- Summary result display -->
            </div>
            
            <div class="modal-footer">
                <label for="languageSelect">Translate to: </label>
                <select id="languageSelect" class="form-control" style="display: inline-block; width: auto;">
                    <option value="swahili">Swahili</option>
                    <option value="french">French</option>
                    <option value="spanish">Spanish</option>
                    <!-- Add more languages here -->
                </select>
                <button type="button" class="btn btn-primary" onclick="translateContent()">Translate</button>
                <button type="button" class="btn btn-red" data-dismiss="modal">Close</button>
            </div>
            
            
        </div>
    </div>
</div>



    

<!-- Add Document Button -->
<div class="container mt-4 d-flex justify-content-center">
    <button class="btn btn-primary" data-toggle="modal" data-target="#addDocumentModal" style="background-color: green;">Add Document</button>
</div>


<!-- Modal for Adding Document -->
<div class="modal fade" id="addDocumentModal" tabindex="-1" aria-labelledby="addDocumentModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addDocumentModalLabel" >Add Document</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span>&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="documentTitle">Title</label>
                    <input type="text" class="form-control" id="documentTitle" placeholder="Enter document title">
                </div>
                <div class="form-group">
                    <label for="documentDescription">Description</label>
                    <textarea class="form-control" id="documentDescription" rows="3" placeholder="Enter document description"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btn-red " data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary btn-brown" id="saveDocument">Save Document</button>
            </div>
        </div>
    </div>
</div>

<!-- About Section -->
<div id="about" class="section">
    <h2>About</h2>
    <p>This platform is dedicated to exploring and promoting human rights instruments that protect the rights and freedoms of individuals, particularly in the African context. We aim to provide easy access to relevant documents and resources.</p>
    <p>Our mission is to raise awareness about human rights issues, encourage advocacy, and empower individuals with the knowledge they need to understand their rights. Through a variety of resources, we hope to foster a community dedicated to human rights for all.</p>
    <button class="back-to-top" onclick="scrollToTop()">‚Üë</button>
</div>


<!-- Contact Section -->
<div id="contact" class="sectioncontact" >
    <h2>Contact</h2>
    <div class="contact-form">
        <p>If you have any questions or would like to get involved, please reach out to us:</p>
        <form>
            <div class="form-group">
                <label for="name">Name</label>
                <input type="text" class="form-control" id="name" required>
            </div>
            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" class="form-control" id="email" required>
            </div>
            <div class="form-group">
                <label for="message">Message</label>
                <textarea class="form-control" id="message" rows="3" required></textarea>
            </div>
            <button type="submit" class="btn btn-success">Send</button>
        </form>
    </div>
    <button class="back-to-top" onclick="scrollToTop()">‚Üë</button>
</div>


    
<!-- Footer -->
<footer class="footer">
    <p>&copy; 2024 Explore Human Rights Instruments. All rights reserved.</p>
</footer>

<!-- jQuery, Popper.js, and Bootstrap JS -->

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>



<script>
    // Adding document functionality
document.getElementById('saveDocument').addEventListener('click', function() {
    const title = document.getElementById('documentTitle').value;
    const description = document.getElementById('documentDescription').value;

    if (title && description) {
        const newCard = document.createElement('div');
        newCard.classList.add('col-md-4');
        newCard.innerHTML = `
            <div class="card mb-4">
                <div class="card-body text-center">
                    <h5 class="card-title">üìÑ ${title}</h5>
                    <p class="card-text">${description}</p>
                    <a href="${title}.pdf" class="btn btn-success" target="_blank">Select</a> <!-- Assuming the file name matches the title -->
                </div>
            </div>
        `;
        document.getElementById('documentCards').appendChild(newCard);

        // Clear input fields and close modal
        document.getElementById('documentTitle').value = '';
        document.getElementById('documentDescription').value = '';
        $('#addDocumentModal').modal('hide');
    } else {
        alert('Please fill in both fields.');
    }
});
$(document).ready(function() {
        $('#sendChat').click(function() {
            const userMessage = $('#chatInput').val();

            // Clear the input field
            $('#chatInput').val('');

            // Display the user's message in the chatResponse div
            $('#chatResponse').append(`<p><strong>You:</strong> ${userMessage}</p>`);

            // Make an AJAX POST request to your Flask backend to get the chatbot's response
            $.ajax({
                type: 'POST',
                url: '/chat',  // Ensure this endpoint is defined in your Flask app
                contentType: 'application/json',
                data: JSON.stringify({ message: userMessage }),
                success: function(response) {
                    // Append the chatbot's response to the chatResponse div
                    $('#chatResponse').append(`<p><strong>Bot:</strong> ${response.reply}</p>`);
                },
                error: function() {
                    // Handle any errors
                    $('#chatResponse').append(`<p><strong>Bot:</strong> Sorry, something went wrong.</p>`);
                }
            });
        });
    });

$(document).ready(function() {
    // Global variable to store selected delivery method and language
    let selectedMethod = '';
    let selectedLanguage = 'en'; // Default to English

    // Function to set the selected delivery method
    window.selectTutor = function(method) {
        selectedMethod = method; // Store selected delivery method
        summarize(); // Call the summarize function
    };

    // Function to set the selected language
    $('#languageSelect').change(function() {
        selectedLanguage = $(this).val(); // Update the selected language
    });

    function summarize() {
    if (selectedMethod) {
        $.ajax({
            url: '/summarize',
            type: 'POST',
            contentType: 'application/json',
            data: JSON.stringify({ 
                delivery_method: selectedMethod,
                language: selectedLanguage // Include the selected language in the request
            }),
            success: function(data) {
                console.log(data); // Debugging to see the returned data
                
                if (selectedMethod === "video" && data.video_url) {
                    $('#summaryResult').html(`
                        <video controls width="400">
                            <source src="${data.video_url}" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    `);
                } else if (selectedMethod === "audio") {
                    $('#summaryResult').html(`
                        <audio controls>
                            <source src="/audio/summary_audio.mp3" type="audio/mp3">
                            Your browser does not support the audio tag.
                        </audio>
                    `);
                } else {
        $('#summaryResult').html(data.summary || data.error); // Inject HTML directly
    }
            },
            error: function(xhr, status, error) {
                console.error("Error:", error);
                $('#summaryResult').text("An error occurred while processing your request.");
            }
        });
    }
}
})



</script>
</body>
</html>
